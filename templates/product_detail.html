<!DOCTYPE html>
<html>
<head>
    <title>Product Detail</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="p-6 bg-gray-100">
    <div class="max-w-4xl mx-auto bg-white rounded-xl shadow-md p-6">
        <h2 class="text-3xl font-bold mb-6 text-gray-800">Product Details</h2>

        {% if product.ImageURL %}
        <div class="mb-6 text-center">
            <img src="{{ product.ImageURL }}" alt="{{ product.Name }}" class="mx-auto max-h-72 object-contain">
        </div>
        {% endif %}

        <ul class="divide-y divide-gray-200 mb-6">
            <li class="py-2"><strong class="text-gray-600">_id:</strong> {{ product._id }}</li>
            {% if product.Name %}<li class="py-2"><strong>Name:</strong> {{ product.Name }}</li>{% endif %}
            {% if product.Brand %}<li class="py-2"><strong>Brand:</strong> {{ product.Brand }}</li>{% endif %}
            {% if product.price %}<li class="py-2"><strong>Price:</strong> ${{ product.price }}</li>{% endif %}
            {% if product.ID %}<li class="py-2"><strong>ID:</strong> {{ product.ID }}</li>{% endif %}
            {% if product.ProdID %}<li class="py-2"><strong>ProdID:</strong> {{ product.ProdID }}</li>{% endif %}
            {% if product.Rating is defined %}<li class="py-2"><strong>Rating:</strong> {{ product.Rating }}</li>{% endif %}
            {% if product.ReviewCount is defined %}<li class="py-2"><strong>Review Count:</strong> {{ product.ReviewCount }}</li>{% endif %}
            {% if product.Category %}<li class="py-2"><strong>Category:</strong> {{ product.Category }}</li>{% endif %}
            {% if product.Tags %}<li class="py-2"><strong>Tags:</strong> {{ product.Tags }}</li>{% endif %}
        </ul>

        <a href="{{ url_for('index') }}" class="inline-block bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg">‚Üê Back to Products</a>

        {% if recommendations %}
        <h4 class="text-xl font-semibold mt-10 mb-4">You may also like</h4>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            {% for rec in recommendations %}
            <div class="bg-white border rounded-lg shadow hover:shadow-md overflow-hidden">
                {% if rec.ImageURL %}
                <img src="{{ rec.ImageURL }}" alt="{{ rec.Name }}" class="w-full h-36 object-cover">
                {% endif %}
                <div class="p-3">
                    <p class="font-semibold text-sm mb-1">{{ rec.Name or 'No Name' }}</p>
                    {% if rec.price %}<p class="text-xs text-gray-500">$ {{ rec.price }}</p>{% endif %}
                    <a href="{{ url_for('product_detail', product_id=rec._id) }}"
                       class="mt-2 block text-center bg-blue-500 text-white text-xs py-1 rounded">View</a>
                </div>
            </div>
            {% endfor %}
        </div>
        {% endif %}
    </div>
</body>
</html>
